{"version":3,"sources":["webpack:///./src/views/Login.vue?5317","webpack:///./src/views/Login.vue?b08d","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","class","active","isactive","isdisabled","on","changetoregister","changetosignin","move","ismove","submit","model","value","callback","$$v","accountSignin","expression","passwordSignin","submitRegister","accountRegister","passwordRegister","staticRenderFns","name","data","methods","event","preventDefault","alert","axios","post","length","component"],"mappings":"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","file":"js/login.095a518b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{attrs:{\"id\":\"container\"}},[_c('div',{attrs:{\"id\":\"base\"}},[_c('div',{staticClass:\"splits\",attrs:{\"id\":\"base_signin\"}},[_c('p',[_vm._v(\"登入會員即可快速結帳\")]),_c('b-button',{class:{active:_vm.isactive},attrs:{\"variant\":\"outline-secondary\",\"disabled\":_vm.isdisabled},on:{\"click\":_vm.changetoregister}},[_vm._v(\"SIGN IN\")])],1),_c('div',{staticClass:\"splits\",attrs:{\"id\":\"base_register\"}},[_c('p',[_vm._v(\"加入會員即可訂購\")]),_c('b-button',{class:{active:!_vm.isactive},attrs:{\"variant\":\"outline-secondary\",\"disabled\":!_vm.isdisabled},on:{\"click\":_vm.changetosignin}},[_vm._v(\"REGISTER\")])],1),_c('div',{staticClass:\"wrapper\",class:{move:_vm.ismove}},[_c('div',{attrs:{\"id\":\"signin\"}},[_c('b-form',{staticClass:\"px-4\",on:{\"submit\":_vm.submit}},[_c('h1',[_vm._v(\"Sign in\")]),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label-for\":\"input-signin-account\",\"description\":\"帳號長度為 4 - 20 個字\"}},[_c('b-form-input',{attrs:{\"id\":\"input-signin-account\",\"type\":\"text\",\"placeholder\":\"Account 會員帳號\",\"required\":\"\"},model:{value:(_vm.accountSignin),callback:function ($$v) {_vm.accountSignin=$$v},expression:\"accountSignin\"}})],1),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label-for\":\"input-signin-password\",\"description\":\"密碼長度為 4 - 20 個字\"}},[_c('b-form-input',{attrs:{\"id\":\"input-signin-password\",\"type\":\"password\",\"placeholder\":\"Password 會員密碼\",\"required\":\"\"},model:{value:(_vm.passwordSignin),callback:function ($$v) {_vm.passwordSignin=$$v},expression:\"passwordSignin\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"info\",\"pill\":\"\"}},[_vm._v(\"SIGN IN\")])],1)],1),_c('div',{attrs:{\"id\":\"register\"}},[_c('b-form',{staticClass:\"px-4\",on:{\"submit\":_vm.submitRegister}},[_c('h1',[_vm._v(\"Register\")]),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label-for\":\"input-register-account\",\"description\":\"帳號長度為 4 - 20 個字\"}},[_c('b-form-input',{attrs:{\"id\":\"input-register-account\",\"type\":\"text\",\"placeholder\":\"Account 會員帳號\",\"required\":\"\"},model:{value:(_vm.accountRegister),callback:function ($$v) {_vm.accountRegister=$$v},expression:\"accountRegister\"}})],1),_c('b-form-group',{staticClass:\"text-left\",attrs:{\"label-for\":\"input-register-password\",\"description\":\"密碼長度為 4 - 20 個字\"}},[_c('b-form-input',{attrs:{\"id\":\"input-register-password\",\"type\":\"password\",\"placeholder\":\"Password 會員密碼\",\"required\":\"\"},model:{value:(_vm.passwordRegister),callback:function ($$v) {_vm.passwordRegister=$$v},expression:\"passwordRegister\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"success\",\"pill\":\"\"}},[_vm._v(\"SIGN UP\")])],1)],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #login\n    #container\n      #base\n        #base_signin.splits\n          p 登入會員即可快速結帳\n          b-button(variant=\"outline-secondary\" @click=\"changetoregister\" :disabled=\"isdisabled\" :class=\"{active:isactive}\") SIGN IN\n        #base_register(class=\"splits\")\n          p 加入會員即可訂購\n          b-button(variant=\"outline-secondary\" @click=\"changetosignin\" :disabled=\"!isdisabled\" :class=\"{active:!isactive}\") REGISTER\n        .wrapper(:class=\"{move:ismove}\")\n          #signin\n            b-form.px-4(@submit=\"submit\")\n              h1 Sign in\n              b-form-group.text-left(\n                label-for=\"input-signin-account\"\n                description=\"帳號長度為 4 - 20 個字\"\n                )\n                b-form-input#input-signin-account(type=\"text\" v-model=\"accountSignin\" placeholder=\"Account 會員帳號\" required)\n              b-form-group.text-left(\n                label-for=\"input-signin-password\"\n                description=\"密碼長度為 4 - 20 個字\"\n                )\n                b-form-input#input-signin-password(type=\"password\" v-model=\"passwordSignin\" placeholder=\"Password 會員密碼\" required)\n              b-button(type=\"submit\" variant=\"info\" pill) SIGN IN\n          #register\n            b-form.px-4(@submit=\"submitRegister\")\n              h1 Register\n              b-form-group.text-left(\n                label-for=\"input-register-account\"\n                description=\"帳號長度為 4 - 20 個字\"\n                )\n                b-form-input#input-register-account(type=\"text\" v-model=\"accountRegister\" placeholder=\"Account 會員帳號\" required)\n              b-form-group.text-left(\n                label-for=\"input-register-password\"\n                description=\"密碼長度為 4 - 20 個字\"\n                )\n                b-form-input#input-register-password(type=\"password\" v-model=\"passwordRegister\" placeholder=\"Password 會員密碼\" required)\n              b-button(type=\"submit\" variant=\"success\" pill) SIGN UP\n</template>\n\n<script>\nexport default {\n  name: 'login',\n  data () {\n    return {\n      ismove: false,\n      isactive: true,\n      isdisabled: true,\n      accountSignin: '',\n      passwordSignin: '',\n      accountRegister: '',\n      passwordRegister: ''\n    }\n  },\n  methods: {\n    submit (event) {\n      event.preventDefault()\n      if (this.accountSignin < 4 || this.accountSignin > 20) {\n        alert('帳號格式不符')\n        return\n      } else if (this.passwordSignin.length < 4 || this.passwordSignin.length > 20) {\n        alert('密碼格式不符')\n        return\n      }\n      this.axios.post(\n        process.env.VUE_APP_APIURL + '/login',\n        { account: this.accountSignin, password: this.passwordSignin })\n        .then(response => {\n          const data = response.data\n          // 如果回來的資料 success 是 true\n          if (data.success) {\n            alert('登入成功')\n            // 呼叫 vuex 的登入\n            this.$store.commit('login', this.accountSignin)\n            this.$store.commit('patchmemberprofile', data.result[0]._id)\n            this.$store.commit('patchname', data.result[0].name)\n            this.$store.commit('patchemail', data.result[0].email)\n            this.$store.commit('patchphone', data.result[0].phone)\n            this.$store.commit('patchaddress', data.result[0].address)\n            this.$store.commit('patchbirth', data.result[0].birth)\n            // 跳到登入後首頁\n            if (this.accountSignin === 'admin1234') {\n              this.$router.push('/admin/adminsort')\n            } else {\n              this.$router.push('/')\n            }\n          } else {\n            // 不是就顯示回來的 message\n            alert(data.message)\n          }\n        })\n        .catch(error => {\n          // 如果回來的狀態不是 200，顯示回來的 message\n          alert(error.response.data.message)\n        })\n    },\n    submitRegister (event) {\n      event.preventDefault()\n\n      if (this.accountRegister.length < 4 || this.accountRegister.length > 20) {\n        alert('帳號格式不符')\n        return\n      } else if (this.passwordRegister.length < 4 || this.passwordRegister.length > 20) {\n        alert('密碼格式不符')\n        return\n      }\n\n      this.axios.post(\n        process.env.VUE_APP_APIURL + '/register',\n        { account: this.accountRegister, password: this.passwordRegister })\n        .then(response => {\n          const data = response.data\n          // 如果回來的資料 success 是 true\n          if (data.success) {\n            alert('註冊成功')\n            // 呼叫 vuex 的登入\n            this.$store.commit('login', this.accountRegister)\n            this.$store.commit('patchmemberprofile', data.result._id)\n            // 跳到登入後的相簿頁\n            this.$router.push('/')\n          } else {\n            // 不是就顯示回來的 message\n            alert(data.message)\n          }\n        })\n        .catch(error => {\n          // 如果回來的狀態不是 200，顯示回來的 message\n          alert(error.response.data.message)\n        })\n    },\n    changetoregister () {\n      this.ismove = !this.ismove\n      this.isactive = !this.isactive\n      this.isdisabled = !this.isdisabled\n      this.accountSignin = ''\n      this.passwordSignin = ''\n    },\n    changetosignin () {\n      this.ismove = !this.ismove\n      this.isactive = !this.isactive\n      this.isdisabled = !this.isdisabled\n      this.accountRegister = ''\n      this.passwordRegister = ''\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#base{\n  width: 100%;\n  min-height: 50vh;\n  margin:5rem 0;\n  background: rgba($color: #ffffff, $alpha: 0.5);\n  display: table;\n  position: relative;\n  box-shadow: 0 0 4px rgba(0,0,0,.14), 0 4px 8px rgba(0,0,0,.28);\n  transition: all .5s;\n}\n\n#base > *{\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n  color: #ffffff;\n  }\n\n.wrapper{\n  position: absolute;\n  width: 40%;\n  height: 120%;\n  top: -10%;\n  left: 10%;\n  background: #fff;\n  box-shadow: 0 0 4px rgba(0,0,0,.14), 0 4px 8px rgba(0,0,0,.28);\n  overflow: hidden;\n  transition: all .5s;\n}\n\n#signin{\n  padding-top: 25%;\n  visibility: visible;\n  transition: all .5s;\n}\n\n#register{\n  transform: translateY(-100%) translateX(100%);\n  visibility: hidden;\n  transition: all .5s;\n}\n\n.move{\n  left:50%;\n}\n.move #signin{\n  transform: translateX(-100%);\n  visibility: hidden;\n}\n\n.move #register{\ntransform: translateY(-100%) translateX(0%);\nvisibility: visible;\n}\n\n@media (max-width: 767px){\n  #base{\n    display: block;\n  }\n\n  .base > *{\n    display: inline-block;\n  }\n\n  .splits{\n    width: 50%;\n    float: left;\n  }\n\n  .splits button{\n    width: 100%;\n    border-radius: 0;\n    background: rgb(59, 59, 59);\n  }\n\n  .splits p{\n    display: none;\n  }\n\n  .wrapper{\n    position: relative;\n    top: 0;\n    left: 0;\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7e88a5b0&lang=pug&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}